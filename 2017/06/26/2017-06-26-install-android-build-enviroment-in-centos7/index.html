<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Life is all of tortrues.">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        centos7中安装andrdoid编译环境 - undefined
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> less bb ,show me the code. </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>CycleChen</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-1-安装android-SDK"><span class="toc-text">Step 1. 安装android SDK</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#命令行安装"><span class="toc-text">命令行安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#离线下载安装"><span class="toc-text">离线下载安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-2-安装Gradle工具"><span class="toc-text">Step 2.安装Gradle工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step3-验证编译环境是否正常安装"><span class="toc-text">Step3.验证编译环境是否正常安装</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> less bb ,show me the code. </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        centos7中安装andrdoid编译环境
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2017-06-26 20:03:20</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#android" title="android">android</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#andrdoid编译环境" title="andrdoid编译环境">andrdoid编译环境</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>继续纪录~~~~<br>本文描述了大centos7.0中如何部署andrdoid编译环境，附件下载连接：<a href="http://pan.baidu.com/s/1nv6wV3N" target="_blank" rel="noopener">http://pan.baidu.com/s/1nv6wV3N</a> 密码：m0lm<br>附件包括：</p>
<ul>
<li>android-sdk-linux.tar： androidSDK压缩包，包括了extra，platform（21，22），build tools(21.0.0，21.1.1，22.0.0，22.0.1)。其他版本的platform，build tools需要另外下载安装;</li>
<li>gradle-2.14.1-all.zip：当前使用的gradle版本，其他版本需要另外下载安装; </li>
<li>gradleDemo.zip：用于测试android编译环境是否正常安装; </li>
<li>HOW-TO-USE.md：安装说明文档。</li>
</ul>
<h2 id="Step-1-安装android-SDK"><a href="#Step-1-安装android-SDK" class="headerlink" title="Step 1. 安装android SDK"></a>Step 1. 安装android SDK</h2><h3 id="命令行安装"><a href="#命令行安装" class="headerlink" title="命令行安装"></a>命令行安装</h3><p>1）android sdk 工具包的一些命令行工具是基于32位系统的，在64为平台运行32程序必须安装 一些依赖库,方法如下：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install glibc*.i686</span><br><span class="line">yum install zlib*.i686</span><br><span class="line">yum install libstdc++.so.6</span><br></pre></td></tr></table></figure></p>
<p>2）解压android-sdk-linux.tar；<br>3）将android-sdk-linux目录添加到环境变量中，确保终端能调用android SDK的一些命令，在/etc/profile中末尾增加下面内容：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ANDROID_HOME=<span class="variable">$HOME</span>/android-sdk-linux  --当前android-sdk-linux目录</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$PATH</span>:<span class="variable">$ANDROID_HOME</span>/tools:<span class="variable">$ANDROID_HOME</span>/platform-tools"</span></span><br><span class="line"><span class="built_in">export</span> ANDROID_HOME</span><br></pre></td></tr></table></figure></p>
<p>4）使环境变量生效:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>5）准备安装sdk工具，首先执行下面命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android list sdk --all</span><br></pre></td></tr></table></figure></p>
<p>正常输出的话会有下面的内容：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">Packages available <span class="keyword">for</span> installation or update: 182</span><br><span class="line"> 1- Android SDK Tools, revision 25.2.5</span><br><span class="line"> 2- Android SDK Platform-tools, revision 26</span><br><span class="line"> 3- Android SDK Build-tools, revision 26</span><br><span class="line"> 4- Android SDK Build-tools, revision 25.0.3</span><br><span class="line"> 5- Android SDK Build-tools, revision 25.0.2</span><br><span class="line"> 6- Android SDK Build-tools, revision 25.0.1</span><br><span class="line"> 7- Android SDK Build-tools, revision 25</span><br><span class="line"> 8- Android SDK Build-tools, revision 24.0.3</span><br><span class="line"> 9- Android SDK Build-tools, revision 24.0.2</span><br><span class="line">10- Android SDK Build-tools, revision 24.0.1</span><br><span class="line">11- Android SDK Build-tools, revision 24</span><br><span class="line">12- Android SDK Build-tools, revision 23.0.3</span><br><span class="line">13- Android SDK Build-tools, revision 23.0.2</span><br><span class="line">14- Android SDK Build-tools, revision 23.0.1</span><br><span class="line">15- Android SDK Build-tools, revision 23 (Obsolete)</span><br><span class="line">16- Android SDK Build-tools, revision 22.0.1</span><br><span class="line">17- Android SDK Build-tools, revision 22 (Obsolete)</span><br><span class="line">18- Android SDK Build-tools, revision 21.1.2</span><br><span class="line">19- Android SDK Build-tools, revision 21.1.1 (Obsolete)</span><br><span class="line">20- Android SDK Build-tools, revision 21.1 (Obsolete)</span><br><span class="line">21- Android SDK Build-tools, revision 21.0.2 (Obsolete)</span><br><span class="line">22- Android SDK Build-tools, revision 21.0.1 (Obsolete)</span><br><span class="line">23- Android SDK Build-tools, revision 21 (Obsolete)</span><br><span class="line">24- Android SDK Build-tools, revision 20</span><br><span class="line">25- Android SDK Build-tools, revision 19.1</span><br><span class="line">26- Android SDK Build-tools, revision 19.0.3 (Obsolete)</span><br><span class="line">27- Android SDK Build-tools, revision 19.0.2 (Obsolete)</span><br><span class="line">28- Android SDK Build-tools, revision 19.0.1 (Obsolete)</span><br><span class="line">29- Android SDK Build-tools, revision 19 (Obsolete)</span><br><span class="line">30- Android SDK Build-tools, revision 18.1.1 (Obsolete)</span><br><span class="line">31- Android SDK Build-tools, revision 18.1 (Obsolete)</span><br><span class="line">32- Android SDK Build-tools, revision 18.0.1 (Obsolete)</span><br><span class="line">33- Android SDK Build-tools, revision 17 (Obsolete)</span><br><span class="line">34- Documentation <span class="keyword">for</span> Android SDK, API 24, revision 1</span><br><span class="line">35- SDK Platform Android 8.0.0, API 26, revision 1</span><br><span class="line">36- SDK Platform Android 7.1.1, API 25, revision 3</span><br><span class="line">37- SDK Platform Android 7.0, API 24, revision 2</span><br><span class="line">38- SDK Platform Android 6.0, API 23, revision 3</span><br><span class="line">39- SDK Platform Android 5.1.1, API 22, revision 2</span><br><span class="line">40- SDK Platform Android 5.0.1, API 21, revision 2</span><br><span class="line">41- SDK Platform Android 4.4W.2, API 20, revision 2</span><br><span class="line">42- SDK Platform Android 4.4.2, API 19, revision 4</span><br><span class="line">43- SDK Platform Android 4.3.1, API 18, revision 3</span><br><span class="line">44- SDK Platform Android 4.2.2, API 17, revision 3</span><br><span class="line">45- SDK Platform Android 4.1.2, API 16, revision 5</span><br><span class="line">46- SDK Platform Android 4.0.3, API 15, revision 5</span><br><span class="line">47- SDK Platform Android 4.0, API 14, revision 4</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p>
<p><strong> 注意：实际输出的序号和版本未必和上面的一样！不同时间会有更新 </strong></p>
<p>这里包括不同的Android API 版本和不同的构建工具，选择你想要安装项目的序号，首次安装建议安装build tools 17及以上，及 android 4.2.2以上的SDK，所以选择序号 “1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44”，执行命令如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android update sdk -u -a -t --proxy-host ubuntu.buct.edu.cn --proxy-port 80 “1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44”</span><br></pre></td></tr></table></figure>
<p>安装的时候会提示接受<code>license</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Do you accept the license <span class="string">'android-sdk-preview-license-52d11cd2'</span> [y/n]:</span><br></pre></td></tr></table></figure>
<p>选择y同意之后才能继续安装，等待安装成功即可。</p>
<p>可能会出现的错误：</p>
<p>运行命令android list sdk 的时候，都会卡在</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fetching https://dl.google.com/android/repository/addons_list-2.xml</span><br></pre></td></tr></table></figure>
<p>此时可以通过两个代理参数：</p>
<ul>
<li><code>--proxy-host</code> 设置代理的host地址</li>
<li><code>--proxy-port</code>设置代理的端口</li>
</ul>
<p>可以通过代理使用国内的Android镜像，国内的Android代理镜像服务器：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://mirrors.neusoft.edu.cn 端口：80</span><br><span class="line">http://ubuntu.buct.edu.cn/ 端口：80</span><br><span class="line">http://ubuntu.buct.cn/ 端口：80</span><br><span class="line">http://sdk.gdgshanghai.com 端口：8000</span><br><span class="line">IPv6: http://ubuntu.buct6.edu.cn/ 端口：80</span><br></pre></td></tr></table></figure>
<p>即：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android list sdk --proxy-host mirrors.zzu.edu.cn --proxy-port 80 --all</span><br></pre></td></tr></table></figure>
<p>然而，可能是我自己的网络原因，测试了下，这几个代理并不太稳定，在fetching的时候，偶尔会返回拒绝访问或者url重置。</p>
<p>如果遇到了的话，建议还是通过离线下载sdk包来安装吧。</p>
<h3 id="离线下载安装"><a href="#离线下载安装" class="headerlink" title="离线下载安装"></a>离线下载安装</h3><p>离线下载连接如下：</p>
<ul>
<li>build tools: <a href="https://androidsdkoffline.blogspot.com/p/android-sdk-build-tools.html" target="_blank" rel="noopener">https://androidsdkoffline.blogspot.com/p/android-sdk-build-tools.html</a></li>
<li>platform tools: <a href="https://androidsdkoffline.blogspot.hk/p/android-sdk-platform-tools.html" target="_blank" rel="noopener">https://androidsdkoffline.blogspot.hk/p/android-sdk-platform-tools.html</a></li>
<li>sdk tools: <a href="https://androidsdkoffline.blogspot.hk/p/android-sdk-tools.html" target="_blank" rel="noopener">https://androidsdkoffline.blogspot.hk/p/android-sdk-tools.html</a></li>
</ul>
<p>选择相应的版本，下载然后解压到sdk相应的目录中即可。</p>
<h2 id="Step-2-安装Gradle工具"><a href="#Step-2-安装Gradle工具" class="headerlink" title="Step 2.安装Gradle工具"></a>Step 2.安装Gradle工具</h2><p>1）解压gradle-2.14.1-all.zip，并创建一个软连接gradle：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s gradle-2.14.1 gradle</span><br></pre></td></tr></table></figure>
<p>2）将gradle目录添加到环境变量中，确定终端能调用gradle：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRADLE_HOME=<span class="variable">$HOME</span>/gradle</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GRADLE_HOME</span>/bin</span><br></pre></td></tr></table></figure></p>
<p>3）使环境变量生效：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>4）验证是否安装正常：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle -v</span><br></pre></td></tr></table></figure></p>
<p>能看到gradle版本信息即为安装正常；</p>
<h2 id="Step3-验证编译环境是否正常安装"><a href="#Step3-验证编译环境是否正常安装" class="headerlink" title="Step3.验证编译环境是否正常安装"></a>Step3.验证编译环境是否正常安装</h2><p>1）解压gradleDemo.zip，进入gradleDemo<br>2）运行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle build</span><br></pre></td></tr></table></figure></p>
<p>3）进入 <code>app/build/outputs/apk</code>，检查是否有apk文件，有则下载安装到手机，如果能正常安装，则说明android编译环境正常。</p>

        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.xml"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
